# Copilot Instructions for Keyboard Shortcut Previewer

This is an HTML/CSS/JavaScript-based keyboard shortcut previewer that allows users to highlight keyboard shortcut buttons and generate images of the highlighted shortcuts.

## Project Overview

- **Technology Stack**: HTML5, CSS3, JavaScript (ES6+), jQuery
- **Purpose**: Interactive keyboard layout for demonstrating and visualizing keyboard shortcuts
- **Key Features**: 
  - Clickable macOS keyboard layout
  - Dynamic shortcut title updates
  - Image export functionality using html2canvas
  - Light/dark theme switching
  - Responsive keyboard styling

## Code Guidelines

### HTML Structure
- Maintain the semantic `<ol id="keyboard">` structure for the keyboard layout
- Each key is an `<li>` element with appropriate classes and content
- Special keys use `.special` class with directional indicators (`.l`, `.r`)
- Modifier keys have specific classes: `.shift`, `.command`, `.tall`
- Pressed/highlighted keys use the `.pressed` class
- Keep keyboard layout consistent with macOS conventions

### CSS Styling
- Follow the existing CSS organization:
  - `css/stijl.css`: Core keyboard styling and layout (based on DrummerHead's design)
  - `css/ui.css`: UI components and button styling
- Maintain consistent spacing and sizing for keyboard keys (47px width, 69px height base)
- Use the established color scheme and theme system
- Preserve the aluminum background texture and night mode styling
- Keep border-radius at 8px for keys to maintain the visual consistency

### JavaScript Patterns
- Use jQuery for DOM manipulation (project already includes jQuery 3.3.1)
- Follow event delegation patterns for key interactions
- Maintain the existing click handler pattern for key highlighting:
  ```javascript
  $("li").click((e) => {
    var btn = $(e.target);
    if (btn.hasClass("pressed")) {
      btn.removeClass("pressed");
    } else {
      btn.addClass("pressed");
    }
  });
  ```
- Keep the html2canvas integration for image generation
- Use ES6+ features where appropriate but maintain compatibility

### Key Interaction Logic
- Keys toggle between pressed and unpressed states on click
- Multiple keys can be pressed simultaneously for combination shortcuts
- Visual feedback should be immediate and clear
- Maintain accessibility for keyboard navigation

### Image Export Functionality
- Use html2canvas library for DOM-to-image conversion
- Target the `#main` element for screenshot capture
- Maintain high DPI (192) and proper scaling for crisp images
- Provide user feedback during image generation process

### Theme System
- Support light and dark themes via body class toggling
- Use `.night` class for dark theme activation
- Maintain theme consistency across all UI elements
- Keep the light switch toggle functionality intact

## File Organization

```
├── index.html          # Main application page
├── css/
│   ├── stijl.css      # Core keyboard styling
│   └── ui.css         # UI components
├── js/
│   ├── main.js        # Primary application logic
│   ├── gedrag.js      # Theme switching logic
│   └── html2canvas.ekoopman.js  # Image generation library
├── fonts/             # Custom keyboard fonts
├── img/               # Background textures and assets
└── .vscode/           # Editor configuration
```

## Development Best Practices

### Code Style
- Use consistent indentation (2 spaces for HTML/CSS, as configured in .vscode/.editorconfig)
- Format code on save (enabled in VS Code settings)
- Use meaningful variable and function names
- Add comments for complex logic, especially in image generation

### Performance Considerations
- Minimize DOM queries by caching jQuery objects
- Use event delegation for dynamic content
- Optimize image generation settings for performance vs quality
- Lazy load non-critical resources

### Browser Compatibility
- Target modern browsers that support ES6+ features
- Ensure html2canvas compatibility across browsers
- Test image export functionality in different browsers
- Maintain responsive design principles

### Feature Development
- When adding new keyboard layouts (e.g., Windows), create separate CSS classes
- Keep the core keyboard structure flexible for different layouts
- Maintain backwards compatibility with existing shortcut configurations
- Consider accessibility when adding new interactive elements

## Known Limitations & Future Enhancements

- Currently only supports macOS keyboard layout
- Windows keyboard layout planned for future versions
- Quiz game feature planned for learning keyboard shortcuts
- Consider adding keyboard shortcut presets for popular applications

## Visual Design Notes

The keyboard uses a realistic macOS design with:
- Black keys with white text
- Blue highlighting for pressed keys (`.pressed` class)
- Proper key sizing and spacing to match MacBook Pro layout
- Special keys like modifiers (Command ⌘, Option, Shift) have appropriate styling
- The layout maintains visual hierarchy with larger modifier keys

## Testing Considerations

- Test key highlighting across different key combinations
- Verify image export quality and dimensions (should generate 640px width images)
- Check theme switching functionality (light/dark modes)
- Validate responsive design on different screen sizes
- Test accessibility features and keyboard navigation
- Ensure shortcut title updates dynamically with input field changes
- Verify click events work on all keyboard keys including special keys

## Common Development Tasks

### Adding New Keyboard Layouts
When adding Windows or other keyboard layouts:
1. Create new CSS classes (e.g., `.windows-keyboard`)
2. Update HTML structure with appropriate key labels
3. Maintain the same interaction patterns
4. Ensure visual consistency with existing design

### Customizing Key Highlighting
- Use `.pressed` class for active keys
- Consider adding animation transitions for smooth visual feedback
- Maintain color contrast for accessibility
- Support multiple key combinations simultaneously

### Extending Image Export
- html2canvas settings are optimized for quality (DPI: 192, scale: 1)
- Target `#main` element for consistent cropping
- Consider adding different export formats or sizes
- Test export functionality across different browsers

When contributing to this project, prioritize maintaining the existing visual design and user experience while ensuring code quality and performance.